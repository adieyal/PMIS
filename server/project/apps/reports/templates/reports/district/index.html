{% extends "reports/district/base.html" %}
{% load humanize %}

{% block extraheader %}
{% endblock %}

{% block body %}

    <div class="project-main-area">
    	<div class="container">
        	<div  id="department-projects" class="cf">
            	<div class="department department-projects-1">
            	<div class="project-brdr marg">
                	<div class="border">
                        <div class="project-main">
                            <div class="department-name"><div>{{ clients.0.fullname }}</div></div><!-- .project-name -->
                            <div class="project-budget">Budget: <span>R {{ clients.0.total_budget| floatformat:"0" | intcomma:0 }}</span></div><!-- .project-budget -->
                            <div class="project-jobs-bg cf">
                                <div class="num-of-job cf">Jobs created: <span> {{ clients.0.num_jobs | intcomma:0 }}</span></div><!-- .num-of-job -->
                                <div class="overall">Overall Progress: <span>{{ clients.0.overall_progress.actual }}</span></div><!-- .overall -->
                                <div id="gauge1" class="progress-gauge" data-widget="gauge" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#gauge1"></div>
                            </div><!-- .project-jobs-bg -->
                            <div class="implementation-bg cf">
                                <div class="implementation-text">Planned Expenditure: <span>R {{ clients.0.overall_expenditure.actual_expenditure | floatformat:"0" | intcomma }}</span></div><!-- .implementation-text -->
                                <div class="actual-text">Actual Expenditure: <span> R {{ clients.0.overall_expenditure.actual_expenditure |floatformat:"0"| intcomma }}</span></div><!-- .actual-text -->
                                <div class="client-slider" data-widget="slider" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#slider1"> </div>
                            </div><!-- .implementation-bg -->
                        </div><!-- .project-main -->
                    </div><!-- .border -->
                </div><!-- .project-brdr -->
                </div><!-- .department-projects-1 -->
            	<div class="department department-projects-2">
            	<div class="project-brdr marg">
                	<div class="border">
                        <div class="project-main">
                            <div class="department-name col-2"><div>{{ clients.1.fullname }}</div></div><!-- .project-name -->
                            <div class="project-budget">Budget: <span>R {{ clients.1.total_budget| floatformat | intcomma }}</span></div><!-- .project-budget -->
                            <div class="project-jobs-bg cf">
                                <div class="num-of-job cf">Jobs created: <span> {{ clients.1.num_jobs| intcomma }}</span></div><!-- .num-of-job -->
                                <div class="overall">Overall Progress: <span> {{ clients.1.overall_progress.actual }}</span></div><!-- .overall -->
                                <div id="gauge2" class="progress-gauge" data-widget="gauge" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#gauge2"></div>
                            </div><!-- .project-jobs-bg -->
                            <div class="implementation-bg cf">
                                <div class="implementation-text">Planned Expenditure: <span>R {{ clients.1.overall_expenditure.actual_expenditure| floatformat:"0" | intcomma }}</span></div><!-- .implementation-text -->
                                <div class="actual-text">Actual Expenditure: <span>R {{ clients.1.overall_expenditure.actual_expenditure | floatformat:"0"| intcomma }}</span></div><!-- .actual-text -->
                                <div class="client-slider" data-widget="slider" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#slider2"> </div>
                            </div><!-- .implementation-bg -->
                        </div><!-- .project-main -->
                    </div><!-- .border -->
                </div><!-- .project-brdr -->
                </div><!-- .department-projects-2 -->
            	<div class="department department-projects-3">
            	<div class="project-brdr marg">
                	<div class="border">
                        <div class="project-main">
                            <div class="department-name col-3"><div> {{ clients.2.fullname }} </div></div><!-- .project-name -->
                            <div class="project-budget">Budget: <span> R {{ clients.2.total_budget| floatformat:"0" | intcomma }}</span></div><!-- .project-budget -->
                            <div class="project-jobs-bg cf">
                                <div class="num-of-job cf">Jobs created: <span> {{ clients.2.num_jobs| intcomma }}</span></div><!-- .num-of-job -->
                                <div class="overall">Overall Progress: <span> {{ clients.2.overall_progress.actual|floatformat }}%</span></div><!-- .overall -->
                                <div id="gauge3" class="progress-gauge" data-widget="gauge" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#gauge3"></div>
                            </div><!-- .project-jobs-bg -->
                            <div class="implementation-bg cf">
                                <div class="implementation-text">Planned Expenditure: <span>R {{ clients.2.overall_expenditure.actual_expenditure| floatformat:"0" | intcomma }}</span></div><!-- .implementation-text -->
                                <div class="actual-text">Actual Expenditure: <span>R {{ clients.2.overall_expenditure.actual_expenditure| floatformat:"0" | intcomma }}</span></div><!-- .actual-text -->
                                <div class="client-slider" data-widget="slider" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#slider3"> </div>
                            </div><!-- .implementation-bg -->
                        </div><!-- .project-main -->
                    </div><!-- .border -->
                </div><!-- .project-brdr -->
                </div><!-- .department-projects-3 -->
            	<div class="department department-projects-4">
            	<div class="project-brdr marg">
                	<div class="border">
                        <div class="project-main">
                            <div class="department-name col-4"><div> {{ clients.3.fullname }}</div></div><!-- .project-name -->
                            <div class="project-budget">Budget: <span>R {{ clients.3.total_budget | floatformat:"0" | intcomma }}</span></div><!-- .project-budget -->
                            <div class="project-jobs-bg cf">
                                <div class="num-of-job cf">Jobs created: <span> {{ clients.3.num_jobs | intcomma }}</span></div><!-- .num-of-job -->
                                <div class="overall">Overall Progress: <span> {{ clients.3.overall_progress.actual }}</span></div><!-- .overall -->
                                <div id="gauge4" class="progress-gauge" data-widget="gauge" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#gauge4"></div>
                            </div><!-- .project-jobs-bg -->
                            <div class="implementation-bg cf">
                                <div class="implementation-text">Planned Expenditure: <span>R {{ clients.3.overall_expenditure.actual_expenditure| floatformat:"0" | intcomma }}</span></div><!-- .implementation-text -->
                                <div class="actual-text">Actual Expenditure: <span>R {{ clients.3.overall_expenditure.actual_expenditure| intcomma }}</span></div><!-- .actual-text -->
                                <div class="client-slider" data-widget="slider" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#slider4"> </div>
                            </div><!-- .implementation-bg -->
                        </div><!-- .project-main -->
                    </div><!-- .border -->
                </div><!-- .project-brdr -->
                </div><!-- .department-projects-4 -->
            	<div class="department department-projects-5">
            	<div class="project-brdr marg">
                	<div class="border">
                        <div class="project-main">
                            <div class="department-name col-5"><div> {{ clients.4.fullname }}</div></div><!-- .project-name -->
                            <div class="project-budget">Budget: <span>R {{ clients.4.total_budget | floatformat | intcomma}}</span></div><!-- .project-budget -->
                            <div class="project-jobs-bg cf">
                                <div class="num-of-job cf">Jobs created: <span> {{ clients.4.num_jobs| intcomma }}</span></div><!-- .num-of-job -->
                                <div class="overall">Overall Progress: <span> {{ clients.4.overall_progress.actual }}</span></div><!-- .overall -->
                                <div id="gauge5" class="progress-gauge" data-widget="gauge" src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#gauge5" ></div>
                            </div><!-- .project-jobs-bg -->
                            <div class="implementation-bg cf">
                                <div class="implementation-text">Planned Expenditure: <span>R {{ clients.4.overall_expenditure.actual_expenditure | floatformat:"0" | intcomma }}</span></div><!-- .implementation-text -->
                                <div class="actual-text">Actual Expenditure: <span>R {{ clients.4.overall_expenditure.actual_expenditure | intcomma }}</span></div><!-- .actual-text -->
                                <div class="client-slider" data-widget="slider" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#slider5"> </div>
                            </div><!-- .implementation-bg -->
                        </div><!-- .project-main -->
                    </div><!-- .border -->
                </div><!-- .project-brdr -->
                </div><!-- .department-projects-5 -->
            	<div class="department department-projects-6">
            	<div class="project-brdr">
                	<div class="border brdr">
                        <div class="project-main">
                            <div class="department-name col-6"><div> {{ clients.5.fullname }}</div></div><!-- .project-name -->
                            <div class="project-budget">Budget: <span>R {{ clients.5.total_budget | floatformat:"0" | intcomma }}</span></div><!-- .project-budget -->
                            <div class="project-jobs-bg cf">
                                <div class="num-of-job cf">Jobs created: <span> {{ clients.5.num_jobs|intcomma }}</span></div><!-- .num-of-job -->
                                <div class="overall">Overall Progress: <span>{{ clients.5.overall_progress.actual }}</span></div><!-- .overall -->
                                <div id="gauge6" class="progress-gauge" data-widget="gauge" src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#gauge6" ></div>
                            </div><!-- .project-jobs-bg -->
                            <div class="implementation-bg cf">
                                <div class="implementation-text">Planned Expenditure: <span>R {{ clients.5.overall_expenditure.actual_expenditure | floatformat:"0" | intcomma}}</span></div><!-- .implementation-text -->
                                <div class="actual-text">Actual Expenditure: <span>R {{ clients.5.overall_expenditure.actual_expenditure|floatformat |intcomma}}</span></div><!-- .actual-text -->
                                <div class="client-slider" data-widget="slider" data-src="{% url 'api:reports:district_graphs' district.id date.year date.month %}#slider6"> </div>
                            </div><!-- .implementation-bg -->
                        </div><!-- .project-main -->
                    </div><!-- .border -->
                </div><!-- .project-brdr -->
                </div><!-- .department-projects-6 -->
            </div><!-- .project-main-row -->
        </div><!-- .container -->
    </div><!-- .project-main-area -->
    <div class="container">
    	<div class="projects-title cf"><h3>Project Performance</h3></div><!-- .projects-title -->
        <div id="project-performance" class="cf">
        	<div class="top-performing-projects">
            	<div class="top-performing-title"><h3><span class="font-whight">TOP</span> performing projects</h3></div><!-- .top-performing-title -->
                <div class="project project-1">
                	<div class="project-name client-{{projects.best_performing.0.client|lower }}"><span class="pname"> {{ projects.best_performing.0.name }} </span> (<a class="project-department" href="index.html#"> {{ projects.best_performing.0.client }}</a> | <a class="project-location" href="index.html#"> {{ projects.best_performing.0.municipality.name }}</a>)</div><!-- .lucation-area -->
                    <div class="perform-area-row cf">
                    	<div class="perform-area-main">
                        	<div class="total-budget">Total Budget: <span class="price">R {{ projects.best_performing.0.budget | floatformat:"0" | intcomma }}</span></div><!-- .total-price -->
                            <div class="progress-bg cf">
                            	<div class="overall-progress">Overall Progress: <span class="progress"> {{ projects.best_performing.0.progress.actual }}</span></div><!-- .progress-text -->
                                <div class="progress-slider" data-widget="slider" data-aspect="1.3"> </div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    	<div class="perform-area-main float">
                        	<div class="num-jobs">Jobs created: <span class="jobs"> {{ projects.best_performing.0.jobs|intcomma }}</span></div>
                            <div class="progress-bg cf">
                            	<div class="overall-progress marg implementation-expenditure">Planned Expenditure: <span class="expenditure">
				R {{ projects.best_performing.0.expenditure.actual| floatformat:"0" | intcomma }}</span></div><!-- .progress-text -->
                                <div class="actual-expenditure">Actual Expenditure: <span class="expenditure">R {{ projects.best_performing.0.expenditure.actual| floatformat:"0" | intcomma }}</span></div><!-- .actual-price -->
                                <div class="expenditure-slider" data-widget="slider" data-aspect="1.3"></div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    </div><!-- .perform-area-row -->
                </div><!-- .project-1 -->
                <div class="project project-2">
                	<div class="project-name client-{{projects.best_performing.1.client|lower }}"><span class="pname">{{ projects.best_performing.1.name }}</span> (<a class="project-department" href="index.html#">{{ projects.best_performing.1.client }}</a> | <a class="project-location" href="index.html#">{{ projects.best_performing.1.municipality.name }}</a>)</div><!-- .lucation-area -->
                    <div class="perform-area-row cf">
                    	<div class="perform-area-main">
                        	<div class="total-budget">Total Budget: <span class="price">R {{ projects.best_performing.1.budget| floatformat:"0" | intcomma }}</span></div><!-- .total-price -->
                            <div class="progress-bg cf">
                            	<div class="overall-progress">Overall Progress: <span class="progress">{{ projects.best_performing.1.progress.actual }}</span></div><!-- .progress-text -->
                                <div class="progress-slider" data-widget="slider" data-aspect="1.3"> </div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    	<div class="perform-area-main float">
                        	<div class="num-jobs">Jobs created: <span class="jobs">{{ projects.best_performing.1.jobs| intcomma }}</span></div>
                            <div class="progress-bg cf">
                            	<div class="overall-progress marg implementation-expenditure">Planned Expenditure: <span class="expenditure">
				R {{ projects.best_performing.1.expenditure.actual| floatformat:"0" |intcomma }}</span></div><!-- .progress-text -->
                                <div class="actual-expenditure">Actual Expenditure: <span class="expenditure">R {{ projects.best_performing.1.expenditure.actual | floatformat:"0" | intcomma}}</span></div><!-- .actual-price -->
                                <div class="expenditure-slider" data-widget="slider" data-aspect="1.3"></div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    </div><!-- .perform-area-row -->
                </div><!-- .project-2 -->
                <div class="project project-3">
                	<div class="project-name  client-{{projects.best_performing.2.client|lower }}"><span class="pname">{{ projects.best_performing.2.name }}</span> (<a class="project-department" href="index.html#">{{ projects.best_performing.2.client }}</a> | <a class="project-location" href="index.html#">{{ projects.best_performing.2.municipality.name }}</a>)</div><!-- .lucation-area -->
                    <div class="perform-area-row cf">
                    	<div class="perform-area-main">
                        	<div class="total-budget">Total Budget: <span class="price">R {{ projects.best_performing.2.budget | floatformat:"0" | intcomma }}</span></div><!-- .total-price -->
                            <div class="progress-bg cf">
                            	<div class="overall-progress">Overall Progress: <span class="progress">{{ projects.best_performing.2.progress.actual }}</span></div><!-- .progress-text -->
                                <div class="progress-slider" data-widget="slider" data-aspect="1.3"> </div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    	<div class="perform-area-main float">
                        	<div class="num-jobs">Jobs created: <span class="jobs">{{ projects.best_performing.2.jobs | intcomma }}</span></div>
                            <div class="progress-bg cf">
                            	<div class="overall-progress marg implementation-expenditure">Planned Expenditure: <span class="expenditure">
				R {{ projects.best_performing.2.expenditure.actual| floatformat:"0" |intcomma }}</span></div><!-- .progress-text -->
                                <div class="actual-expenditure">Actual Expenditure: <span class="expenditure">R {{ projects.best_performing.2.expenditure.actual |floatformat:"0" | intcomma }}</span></div><!-- .actual-price -->
                                <div class="expenditure-slider" data-widget="slider" data-aspect="1.3"></div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    </div><!-- .perform-area-row -->
                </div><!-- .project-3 -->
            </div><!-- .project-1 -->
            
        	<div id="worst-performing-projects" class="worst-performing-projects">
            	<div class="top-performing-title"><h3><span class="font-whight">WORST</span> performing projects</h3></div><!-- .top-performing-title -->
                <div class="project project-1">
                	<div class="project-name client-{{ projects.worst_performing.0.client |lower }}"> {{ projects.worst_performing.0.name }} <span class="pname">{{ projects.worst_performing.0.name }}</span> (<a class="project-department" href="index.html#">{{ projects.worst_performing.0.client}}</a> | <a class="project-location" href="index.html#">{{ projects.worst_performing.0.municipality.name }}</a>)</div><!-- .lucation-area -->
                    <div class="perform-area-row cf">
                    	<div class="perform-area-main">
                        	<div class="total-budget">Total Budget: <span class="price">R {{ projects.worst_performing.0.budget | floatformat:"0" | intcomma }}</span></div><!-- .total-price -->
                            <div class="progress-bg cf">
                            	<div class="overall-progress">Overall Progress: <span class="progress">{{ projects.worst_performing.0.progress.actual }}</span></div><!-- .progress-text -->
                                <div class="progress-slider" data-widget="slider" data-aspect="1.3"> </div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    	<div class="perform-area-main float">
                        	<div class="num-jobs">Jobs created: <span class="jobs">{{ projects.best_performing.0.jobs | intcomma }}</span></div>
                            <div class="progress-bg cf">
                            	<div class="overall-progress marg implementation-expenditure">Planned Expenditure: <span class="expenditure">
				R {{ projects.worst_performing.0.expenditure.actual| floatformat:"0" | intcomma }}</span></div><!-- .progress-text -->
                                <div class="actual-expenditure">Actual Expenditure: <span class="expenditure">R {{ projects.worst_performing.0.expenditure.actual|floatformat:"0"|intcomma }}</span></div><!-- .actual-price -->
                                <div class="expenditure-slider" data-widget="slider" data-aspect="1.3"></div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    </div><!-- .perform-area-row -->
                </div><!-- .project-1 -->
                <div class="project project-2">
                	<div class="project-name client-{{ projects.worst_performing.1.client |lower }}"><span class="pname "> {{ projects.worst_performing.1.name }}</span> (<a class="project-department" href="index.html#">{{ projects.worst_performing.1.client }}</a> | <a class="project-location" href="index.html#">{{ projects.worst_performing.1.municipality.name }}</a>)</div><!-- .lucation-area -->
                    <div class="perform-area-row cf">
                    	<div class="perform-area-main">
                        	<div class="total-budget">Total Budget: <span class="price">R {{ projects.worst_performing.1.budget | floatformat:"0" | intcomma }}</span></div><!-- .total-price -->
                            <div class="progress-bg cf">
                            	<div class="overall-progress">Overall Progress: <span class="progress">{{ projects.worst_performing.1.progress.actual }}</span></div><!-- .progress-text -->
                                <div class="progress-slider" data-widget="slider" data-aspect="1.3"> </div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    	<div class="perform-area-main float">
                        	<div class="num-jobs">Jobs created: <span class="jobs">{{ projects.worst_performing.1.jobs | intcomma }}</span></div>
                            <div class="progress-bg cf">
                            	<div class="overall-progress marg implementation-expenditure">Planned Expenditure: <span class="expenditure">
				R {{ projects.worst_performing.1.expenditure.actual| floatformat:"0" | intcomma }}</span></div><!-- .progress-text -->
                                <div class="actual-expenditure">Actual Expenditure: <span class="expenditure">R {{ projects.worst_performing.1.expenditure.actual | floatformat:"0" | intcomma }}</span></div><!-- .actual-price -->
                                <div class="expenditure-slider" data-widget="slider" data-aspect="1.3"></div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    </div><!-- .perform-area-row -->
                </div><!-- .project-2 -->
                <div class="project project-3">
                	<div class="project-name client-{{ projects.worst_performing.2.client |lower }}"><span class="pname">{{ projects.worst_performing.2.name }}</span> (<a class="project-department" href="index.html#">{{ projects.worst_performing.2.client }}</a> | <a class="project-location" href="index.html#">{{ projects.worst_performing.2.municipality.name }}</a>)</div><!-- .lucation-area -->
                    <div class="perform-area-row cf">
                    	<div class="perform-area-main">
                        	<div class="total-budget">Total Budget: <span class="price">R {{ projects.worst_performing.2.budget | floatformat:"0" | intcomma }}</span></div><!-- .total-price -->
                            <div class="progress-bg cf">
                            	<div class="overall-progress">Overall Progress: <span class="progress">{{ projects.worst_performing.2.progress.actual }}</span></div><!-- .progress-text -->
                                <div class="progress-slider" data-widget="slider" data-aspect="1.3"> </div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    	<div class="perform-area-main float">
                        	<div class="num-jobs">Jobs created: <span class="jobs">{{ projects.worst_performing.2.jobs | intcomma }}</span></div>
                            <div class="progress-bg cf">
                            	<div class="overall-progress marg implementation-expenditure">Planned Expenditure: <span class="expenditure">
				R {{ projects.worst_performing.2.expenditure.actual | floatformat:"0" | intcomma }}</span></div><!-- .progress-text -->
                                <div class="actual-expenditure">Actual Expenditure: <span class="expenditure">R {{ projects.worst_performing.2.expenditure.actual | floatformat:"0" | intcomma }}</span></div><!-- .actual-price -->
                                <div class="expenditure-slider" data-widget="slider" data-aspect="1.3"></div>
                            </div><!-- .progress-bg -->
                        </div><!-- .perform-area-main -->
                    </div><!-- .perform-area-row -->
                </div><!-- .project-3 -->
            </div><!-- .project-1 -->
        </div><!-- .perform-main-row -->
    	<div class="projects-title cf">
        <h3>Projects per Department</h3>
        <div class="all-area"><a href="index.html#">All Departments</a></div><!-- .all-area -->
        </div><!-- .projects-title -->
        <div id="department-projects-counts" class="department-main-row cf">
        	<div class="department-main">
            	<div class="department department-brdr cf">
                	<div class="department-name"> {{ clients.0.fullname }}</div><!-- .department-name -->
                    <div class="department-num">{{ clients.0.total_projects }}</div><!-- .department-num -->
                </div><!-- .department-brdr -->
            	<div class="department department-brdr cf">
                	<div class="department-name">{{ clients.1.fullname }}</div><!-- .department-name -->
                    <div class="department-num">{{ clients.1.total_projects }}</div><!-- .department-num -->
                </div><!-- .department-brdr -->
            	<div class="department department-brdr cf">
                	<div class="department-name">{{ clients.2.fullname }}</div><!-- .department-name -->
                    <div class="department-num">{{ clients.2.total_projects }}</div><!-- .department-num -->
                </div><!-- .department-brdr -->
            	<div class="department department-brdr cf">
                	<div class="department-name">{{ clients.3.fullname }}</div><!-- .department-name -->
                    <div class="department-num">{{ clients.3.total_projects }}</div><!-- .department-num -->
                </div><!-- .department-brdr -->
            	<div class="department department-brdr cf">
                	<div class="department-name">{{ clients.4.fullname }}</div><!-- .department-name -->
                    <div class="department-num">{{ clients.4.total_projects }}</div><!-- .department-num -->
                </div><!-- .department-brdr -->
            	<div class="department department-brdr cf">
                	<div class="department-name">{{ clients.5.fullname }}</div><!-- .department-name -->
                    <div class="department-num">{{ clients.5.total_projects }}</div><!-- .department-num -->
                </div><!-- .department-brdr -->
            </div><!-- .department-main -->
            <div class="map-image"><img src="/static/reports/images/map-image.png" alt=""></div><!-- .map-image -->
        </div><!-- .department-main-row -->
    </div><!-- .container -->
{% endblock %}
